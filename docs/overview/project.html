<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<TITLE>D2Aドキュメント</TITLE>
</HEAD>
<BODY>

<P>
<TABLE border="0" width="100%" cellpadding="3" cellspacing="0">
<TR height="100">
<TD bgcolor="#cccccc">
<P><FONT size="+2"><B>プロジェクトの作成</B></FONT></P>
</TD>
</TR>
</TABLE>
</P>

<P>「HelloWorld」アプリケーションを実際に作成しながら、プロジェクトの作成の流れを説明していきます。</P>

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="6" height="6"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+2">
<B>（1）プロジェクトを新規作成する</B>
</FONT></TD></TR>
</TABLE>
</P>

<P>「Android Studio」を起動します。</P>

<P>「Start a new Android Studio project」を実行しますと「Create New Project」ダイアログが開きます。</P>

<P>「Empty Activity」を選択して「Next」ボタンを押します。</P>

<!--<P><IMG src="project_1.png" height="600" border="0"></P>-->

<P>「Name」に「<B>Hello World</B>」と入力<BR>
「Package Name」に「<B>net.satis.helloworld</B>」と入力<BR>
「Language」を「Java」に<BR>
「Minimum SDK」を「API 19: Android 4.4 (KitKat)」に<BR>

<P>「Finish」ボタンを押します。</P>

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="6" height="6"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+2">
<B>（2）d2a-release.aar をプロジェクトに追加する</B>
</FONT></TD></TR>
</TABLE>
</P>

<P>「File」-「New」-「New Module...」を実行しますと「Create New Modile」ダイアログが開きます。</P>

<P>「Import .JAR/.AAR Package」を選択して「Next」ボタンを押します。</P>

<P>「File name」は「d2a-release.aar」を選択<BR>
「Subproject name」に「d2a」と入力</P>

<P>「Finish」ボタンを押します。</P>

<P>「File」-「Project structure...」を実行します。</P>

<P>左メニューの「Dependencies」を選択、Modules の「app」を選択、Declared Dependencies の「+」メニューの「3 Module Dependency」を選択しますと「Add Module Dependency」ダイアログが開きますので、「d2a」にチェックを入れて「OK」ボタンを押します。</P>

<!--
<P>Package Explorer の「HelloWorld」をマウス右クリックして、ポップアップメニューの「Properties」を実行します。</P>

<P><IMG src="project_2.png" width="600" border="0"></P>

<P>「Java Build Path」を選択し、「Source」タブを選択し、「Link Source...」ボタンを押します。</P>

<P><IMG src="project_3.png" border="0"></P>

<P>「Linked folder location」に「core」フォルダを指定し、「Finish」ボタンを押します。</P>

<P>「OK」ボタンを押します。</P>
-->

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="6" height="6"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+2">
<B>（3）「MainActivity.java」ファイルの内容を記述する</B>
</FONT></TD></TR>
</TABLE>
</P>

<P>「MainActivity.java」ファイルの内容を、デフォルトの内容を一旦消去してから以下のように記述します。</P>

<P>MainActivity.java：<BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR>
<TD>package net.satis.helloworld;<BR>
<BR>
import net.satis.d2a.*;<BR>
<BR>
public class MainActivity extends _Main {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;String str;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;int w, h;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;int x, y;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;int dx, dy;<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;int elapse = 0;<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;public void start(){<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setCurrent( new MyCanvas() );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;public class MyCanvas extends _Canvas {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public int frameTime(){ return 33/*1000 / 30*/; }<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public void init(){<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_Graphics g = getGraphics();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.setAntiAlias( true );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.setFontSize( 24 );<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str = new String( "Hello World !!" );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w = g.stringWidth( str );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h = g.fontHeight();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = 0;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = h;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dx = 5;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dy = 5;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public void paint( _Graphics g ){<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elapse++;<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x += dx;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( (x &lt;= 0) || (x &gt;= getWidth() - w) ){<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dx = -dx;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y += dy;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( (y &lt;= h) || (y &gt;= getHeight()) ){<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dy = -dy;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.lock();<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.setColor( _Graphics.getColorOfRGB( 255, 255, 255 ) );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.fillRect( 0, 0, getWidth(), getHeight() );<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.setColor( _Graphics.getColorOfRGB( 0, 0, 255 ) );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.drawString( "" + elapse, 0, 30 );<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.drawString( str, x, y );<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.unlock();<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}<BR>
}</TD>
</TR>
</TABLE>
</P>

<P>
<TABLE border="0" width="100%" cellpadding="0" cellspacing="0">
<TR><TD bgcolor="#888888" width="6" height="6"></TD><TD bgcolor="#888888"></TD></TR>
<TR><TD bgcolor="#888888"></TD><TD width="99%"><FONT size="+2">
<B>（4）「AndroidManifest.xml」ファイルの内容を記述する</B>
</FONT></TD></TR>
</TABLE>
</P>

<P>「AndroidManifest.xml」ファイルの内容を、デフォルトの内容を一旦消去してから以下のように記述します。</P>

<P>AndroidManifest.xml：<BR>
<TABLE border="1" cellpadding="3" cellspacing="0">
<TR>
<TD>&lt;?xml version="1.0" encoding="utf-8"?&gt;<BR>
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"<BR>
&nbsp;&nbsp;&nbsp;&nbsp;package="net.satis.helloworld"&gt;<BR>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;application<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:allowBackup="true"<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:icon="@mipmap/ic_launcher"<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:label="@string/app_name"<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:supportsRtl="true"<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:theme="@style/AppTheme"&gt;<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;activity android:name=".MainActivity"&gt;<BR>
<!--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:configChanges="orientation"&gt;<BR>-->
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;intent-filter&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;action android:name="android.intent.action.MAIN" /&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category android:name="android.intent.category.LAUNCHER" /&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/intent-filter&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/activity&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/application&gt;<BR>
<BR>
&lt;/manifest&gt;</TD>
</TR>
</TABLE>
</P>

</BODY>
</HTML>